{
  "version": 3,
  "sources": ["../../../src/js/components/IndexView.js", "../../../src/js/components/Store.js", "../../../src/js/pages/index.js"],
  "sourcesContent": ["export class IndexView {\r\n    #container;\r\n    #taskListNode;\r\n\r\n    #store;\r\n\r\n    constructor(container, store) {\r\n        this.#container = container;\r\n        this.#store = store;\r\n        this.#store.addObserver(this);\r\n    }\r\n    #createTask(task) {\r\n        let taskId = task.taskId;\r\n        let titleValue = task.titleValue;\r\n        console.log(\"entramos\")\r\n        \r\n        let listItemNode = document.createElement(\"li\");\r\n        listItemNode.innerHTML = \"cositas\";\r\n        //listItemNode.setAttribute(`data-product-id`, taskId);\r\n        //listItemNode.innerHTML = `<strong>Product name</strong>: ${titleValue}`;\r\n        //listItemNode.setAttribute(`data-product-id`, taskId);\r\n\r\n        let deleteButtonNode = document.createElement(\"button\");\r\n        deleteButtonNode.innerHTML = \"Delete\";\r\n        listItemNode.appendChild(deleteButtonNode);\r\n        /*deleteButtonNode.addEventListener(\"click\", (event) => {\r\n            event.preventDefault();\r\n\r\n            // productId reference is enclosed in the callback scope\r\n            this.#removeTask(taskId);\r\n\r\n            // You can also get the prodect id if previously set as a custom attribute\r\n            console.log(event.target.parentNode.getAttribute(\"data-product-id\"));\r\n        });\r\n*/\r\n        return listItemNode;\r\n    }\r\n\r\n    #addTaskToList(task) {\r\n        let taskNode = this.#createTask(task);\r\n\r\n        this.#taskListNode.appendChild(taskNode);\r\n    }\r\n\r\n    #removeTask(taskId) {\r\n        this.#store.removeTask(taskId);\r\n    }\r\n\r\n    update() {\r\n        this.render();\r\n    }\r\n\r\n    render() {\r\n        console.log(this.#store.getTask());\r\n        /*if (this.#taskListNode !== undefined) {\r\n            this.#container.removeChild(this.#taskListNode);\r\n        }*/\r\n        this.#taskListNode = document.createElement(\"ul\");\r\n        this.#taskListNode.setAttribute(\"id\", \"product-list\");\r\n\r\n        this.#store.getTask().forEach((task) => this.#addTaskToList(task));\r\n        \r\n\r\n        this.#container.appendChild(this.#taskListNode);\r\n    }\r\n}", "export class Store {\n    #tasks = {};\n    #observers = [];\n\n    constructor(){\n        localStorage.setItem(\"task\",JSON.stringify(this.#tasks));\n        this.#tasks = JSON.parse(localStorage.getItem(\"task\"))\n    }\n    /*storeTaskesJSON(task) {\n        localStorage.setItem('task', JSON.stringify(task));\n\n      }*/\n    addTask(task) {\n        this.#tasks[task.id] = task;\n        //storeTaskesJSON(this.#task);\n        localStorage.setItem('task', JSON.stringify(this.#tasks));\n        this.#notifyObservers();\n        \n    }\n\n    removeTask(taskId) {\n        delete this.#tasks[taskId];\n        localStorage.setItem(\"task\",JSON.stringify(this.#tasks));\n        console.log(\"removed\");\n        this.#notifyObservers();\n    }\n\n    getTask() {\n        return Object.keys(this.#tasks).map(k => this.#tasks[k]); // Transforms the object into an array\n    }\n\n    addObserver(observer) {\n        this.#observers.push(observer);\n    }\n\n    #notifyObservers() {\n        this.#observers.forEach((observer) => observer.update())\n    }\n}", "import{IndexView} from \"../components/IndexView.js\";\r\nimport {Store} from \"../components/Store.js\";\r\n\r\n//import {List} from \"../components/List(nidea).js\";\r\n\r\n//let store = new Store();\r\ndocument.addEventListener(\"DOMContentLoaded\",()=>{\r\n    \r\n    let store = new Store();\r\n    let indexView = new IndexView(document.getElementById(\"container\"), store)\r\n    indexView.render();\r\n});\r\n"],
  "mappings": "MAAO,WAAgB,UAMnB,YAAY,EAAW,EAAO,CAC1B,QAAkB,EAClB,QAAc,EACd,QAAY,YAAY,SAEhB,EAAM,CACd,GAAI,GAAS,EAAK,OACd,EAAa,EAAK,WACtB,QAAQ,IAAI,YAEZ,GAAI,GAAe,SAAS,cAAc,MAC1C,EAAa,UAAY,UAKzB,GAAI,GAAmB,SAAS,cAAc,UAC9C,SAAiB,UAAY,SAC7B,EAAa,YAAY,GAWlB,KAGI,EAAM,CACjB,GAAI,GAAW,QAAiB,GAEhC,QAAmB,YAAY,MAGvB,EAAQ,CAChB,QAAY,WAAW,GAG3B,QAAS,CACL,KAAK,SAGT,QAAS,CACL,QAAQ,IAAI,QAAY,WAIxB,QAAqB,SAAS,cAAc,MAC5C,QAAmB,aAAa,KAAM,gBAEtC,QAAY,UAAU,QAAQ,AAAC,GAAS,QAAoB,IAG5D,QAAgB,YAAY,WC/D7B,WAAY,IACN,MACI,GAEb,aAAa,CACT,aAAa,QAAQ,OAAO,KAAK,UAAU,UAC3C,QAAc,KAAK,MAAM,aAAa,QAAQ,SAMlD,QAAQ,EAAM,CACV,QAAY,EAAK,IAAM,EAEvB,aAAa,QAAQ,OAAQ,KAAK,UAAU,UAC5C,UAIJ,WAAW,EAAQ,CACf,MAAO,SAAY,GACnB,aAAa,QAAQ,OAAO,KAAK,UAAU,UAC3C,QAAQ,IAAI,WACZ,UAGJ,SAAU,CACN,MAAO,QAAO,KAAK,SAAa,IAAI,GAAK,QAAY,IAGzD,YAAY,EAAU,CAClB,QAAgB,KAAK,OAGN,CACf,QAAgB,QAAQ,AAAC,GAAa,EAAS,YC9BvD,SAAS,iBAAiB,mBAAmB,IAAI,CAE7C,GAAI,GAAQ,GAAI,GAEhB,AADgB,GAAI,GAAU,SAAS,eAAe,aAAc,GAC1D",
  "names": []
}
