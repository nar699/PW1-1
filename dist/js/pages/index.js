(()=>{var r=class{#e;#t;#s;constructor(e,s){this.#e=e,this.#s=s,this.#s.addObserver(this)}#i(e){let s=e.taskId,m=e.titleValue,p=e.DeadlieValue,g=e.DescriptionValue,u=e.DescriptionValue;console.log("entramos");let t=document.createElement("div");t.setAttribute("class","text");let n=document.createElement("dt");n.innerHTML=`${m}`,t.appendChild(n);let o=document.createElement("dt");o.innerHTML=`${p}`,t.appendChild(o);let l=document.createElement("dd");l.innerHTML=`${u}`,t.appendChild(l);let c=document.createElement("dd");t.appendChild(c);let a=document.createElement("button");return a.innerHTML="Delete",c.appendChild(a),a.addEventListener("click",h=>{h.preventDefault(),this.#r(s),console.log(h.target.parentNode.getAttribute("data-product-id"))}),t}#a(e){let s=this.#i(e);this.#t.appendChild(s)}#r(e){this.#s.removeTask(e)}update(){this.render()}render(){this.#t!==void 0&&this.#e.removeChild(this.#t),this.#t=document.createElement("dl"),this.#t.setAttribute("id","product-list"),this.#s.getTask().forEach(e=>this.#a(e)),this.#e.appendChild(this.#t)}};var d=class{#e={};#t=[];constructor(){var e=JSON.parse(localStorage.getItem("task"));e==null&&localStorage.setItem("task",JSON.stringify(this.#e)),this.#e=JSON.parse(localStorage.getItem("task"))}addTask(e){this.#e[e.taskId]=e,localStorage.setItem("task",JSON.stringify(this.#e)),this.#s(),console.log(this.#e)}removeTask(e){delete this.#e[e],localStorage.setItem("task",JSON.stringify(this.#e)),this.#s()}getTask(){return this.#e=JSON.parse(localStorage.getItem("task")),Object.keys(this.#e).map(e=>this.#e[e])}addObserver(e){this.#t.push(e)}#s(){this.#t.forEach(e=>e.update())}};document.addEventListener("DOMContentLoaded",()=>{let i=new d;new r(document.getElementById("container"),i).render()});})();
//# sourceMappingURL=index.js.map
