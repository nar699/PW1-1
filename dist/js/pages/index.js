(()=>{var r=class{#e;#t;#s;constructor(e,t){this.#e=e,this.#s=t,this.#s.addObserver(this)}#o(e){let t=e.taskId,n=e.titleValue;console.log("entramos");let o=document.createElement("li");o.innerHTML="cositas";let a=document.createElement("button");return a.innerHTML="Delete",o.appendChild(a),o}#r(e){let t=this.#o(e);this.#t.appendChild(t)}#i(e){this.#s.removeTask(e)}update(){this.render()}render(){this.#t=document.createElement("ul"),this.#t.setAttribute("id","product-list"),this.#s.getTask().forEach(e=>this.#r(e)),this.#e.appendChild(this.#t)}};var i=class{#e={};#t=[];constructor(){var e=JSON.parse(localStorage.getItem("task"));e==null&&localStorage.setItem("task",JSON.stringify(this.#e)),this.#e=JSON.parse(localStorage.getItem("task")),console.log("constructor"),console.log(this.#e)}addTask(e){this.#e[e.taskId]=e,localStorage.setItem("task",JSON.stringify(this.#e)),this.#s(),console.log(this.#e)}removeTask(e){delete this.#e[e],localStorage.setItem("task",JSON.stringify(this.#e)),console.log("removed"),this.#s()}getTask(){return this.#e=JSON.parse(localStorage.getItem("task")),Object.keys(this.#e).map(e=>this.#e[e])}addObserver(e){this.#t.push(e)}#s(){this.#t.forEach(e=>e.update())}};document.addEventListener("DOMContentLoaded",()=>{let s=new i;new r(document.getElementById("container"),s).render()});})();
//# sourceMappingURL=index.js.map
