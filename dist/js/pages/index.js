(()=>{var d=class{#e;#t;#i;constructor(e,t){this.#e=e,this.#i=t,this.#i.addObserver(this)}#s(e){let t=e.taskId,m=e.titleValue,u=e.DeadlieValue,g=e.DescriptionValue,p=e.DescriptionValue;console.log("entramos");let i=document.createElement("div");i.setAttribute("class","text");let r=document.createElement("dt");r.innerHTML=`${m}`,i.appendChild(r);let a=document.createElement("dt");a.innerHTML=`${u}`,i.appendChild(a);let l=document.createElement("dd");l.innerHTML=`${p}`,i.appendChild(l);let c=document.createElement("dd");i.appendChild(c);let n=document.createElement("button");return n.innerHTML="Delete",c.appendChild(n),n.addEventListener("click",h=>{h.preventDefault(),this.#d(t),console.log(h.target.parentNode.getAttribute("data-product-id"))}),i}#n(e){let t=this.#s(e);this.#t.appendChild(t)}#d(e){this.#i.removeTask(e)}update(){this.render()}render(){this.#t!==void 0&&this.#e.removeChild(this.#t),this.#t=document.createElement("dl"),this.#t.setAttribute("id","product-list"),this.#i.getTask().forEach(e=>this.#n(e)),this.#e.appendChild(this.#t)}};var o=class{#e={};#t=[];constructor(){var e=JSON.parse(localStorage.getItem("task"));e==null&&localStorage.setItem("task",JSON.stringify(this.#e)),this.#e=e,console.log("constructor"),console.log(this.#e)}addTask(e){this.#e[e.taskId]=e,localStorage.setItem("task",JSON.stringify(this.#e)),this.#i()}removeTask(e){delete this.#e[e],localStorage.setItem("task",JSON.stringify(this.#e)),console.log("removed"),this.#i()}getTask(){return this.#e=JSON.parse(localStorage.getItem("task")),Object.keys(this.#e).map(e=>this.#e[e])}addObserver(e){this.#t.push(e)}#i(){this.#t.forEach(e=>e.update())}};document.addEventListener("DOMContentLoaded",()=>{let s=new o;new d(document.getElementById("container"),s).render(),new Index2View(document.getElementById("container2"),s).render()});})();
//# sourceMappingURL=index.js.map
