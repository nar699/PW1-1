(()=>{var i=class{#e;#s;#t;constructor(e,t){this.#e=e,this.#t=t,this.#t.addObserver(this)}#o(e){let t=e.taskId,n=e.titleValue;console.log("entramos");let o=document.createElement("li");o.innerHTML="cositas";let a=document.createElement("button");return a.innerHTML="Delete",o.appendChild(a),o}#i(e){let t=this.#o(e);this.#s.appendChild(t)}#r(e){this.#t.removeTask(e)}update(){this.render()}render(){console.log(this.#t.getTask()),this.#s=document.createElement("ul"),this.#s.setAttribute("id","product-list"),this.#t.getTask().forEach(e=>this.#i(e)),this.#e.appendChild(this.#s)}};var r=class{#e={};#s=[];constructor(){localStorage.setItem("task",JSON.stringify(this.#e)),this.#e=JSON.parse(localStorage.getItem("task"))}addTask(e){this.#e[e.id]=e,localStorage.setItem("task",JSON.stringify(this.#e)),this.#t()}removeTask(e){delete this.#e[e],localStorage.setItem("task",JSON.stringify(this.#e)),console.log("removed"),this.#t()}getTask(){return Object.keys(this.#e).map(e=>this.#e[e])}addObserver(e){this.#s.push(e)}#t(){this.#s.forEach(e=>e.update())}};document.addEventListener("DOMContentLoaded",()=>{let s=new r;new i(document.getElementById("container"),s).render()});})();
//# sourceMappingURL=index.js.map
