(()=>{var o=class{#e;#t;#s;constructor(e,t){this.#e=e,this.#s=t,this.#s.addObserver(this)}#i(e){let t=e.taskId,m=e.titleValue,u=e.DeadlieValue,g=e.DescriptionValue,p=e.DescriptionValue;console.log("entramos");let s=document.createElement("div");s.setAttribute("class","text");let d=document.createElement("dt");d.innerHTML=`${m}`,s.appendChild(d);let a=document.createElement("dt");a.innerHTML=`${u}`,s.appendChild(a);let l=document.createElement("dd");l.innerHTML=`${p}`,s.appendChild(l);let c=document.createElement("dd");s.appendChild(c);let n=document.createElement("button");return n.innerHTML="Delete",c.appendChild(n),n.addEventListener("click",h=>{h.preventDefault(),this.#o(t),console.log(h.target.parentNode.getAttribute("data-product-id"))}),s}#n(e){let t=this.#i(e);this.#t.appendChild(t)}#o(e){this.#s.removeTask(e)}update(){this.render()}render(){this.#t!==void 0&&this.#e.removeChild(this.#t),this.#t=document.createElement("dl"),this.#t.setAttribute("id","product-list"),this.#s.getTask().forEach(e=>this.#n(e)),this.#e.appendChild(this.#t)}};var r=class{#e={};#t=[];constructor(){var e=JSON.parse(localStorage.getItem("task"));e==null&&localStorage.setItem("task",JSON.stringify(this.#e)),this.#e=JSON.parse(localStorage.getItem("task")),console.log("constructor"),console.log(this.#e)}addTask(e){this.#e[e.taskId]=e,localStorage.setItem("task",JSON.stringify(this.#e)),this.#s(),console.log(this.#e)}removeTask(e){delete this.#e[e],localStorage.setItem("task",JSON.stringify(this.#e)),console.log("removed"),this.#s()}getTask(){return this.#e=JSON.parse(localStorage.getItem("task")),Object.keys(this.#e).map(e=>this.#e[e])}addObserver(e){this.#t.push(e)}#s(){this.#t.forEach(e=>e.update())}};document.addEventListener("DOMContentLoaded",()=>{let i=new r;new o(document.getElementById("container"),i).render(),new Index2View(document.getElementById("container2"),i).render()});})();
//# sourceMappingURL=index.js.map
